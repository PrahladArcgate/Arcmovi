<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Movie Detail Page</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="movieDetail"></div>
  </body>
</html>
<script>
  document.addEventListener("DOMContentLoaded", function (event) {
    var query = window.location.search.substring(1);
    var movieId = query.split("=")[1];
    showMovieDetails(movieId);
  });
  function showMovieDetails(movieId) {
    const api_key = "e5391c1a8808501be6c2e56da9f07b03";
    const detailsURL = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${api_key}&language=en-US`;

    fetch(detailsURL)
      .then((response) => response.json())
      .then((movieDetails) => {
        // Create the movie detail HTML
        let movieDetail = `
          <div class="moviecontainer">
            <div class="movie-details">
              <div class="poster">
                <img src="http://image.tmdb.org/t/p/w500/${
                  movieDetails.poster_path
                }" alt="${movieDetails.original_title}">
              </div>
              <div class="info">
                <h1 class="title" id="title">${movieDetails.original_title}</h1>
                <p class="release-date">${movieDetails.release_date}</p>
                <p class="overview" id="overview">${movieDetails.overview}</p>
                <p class="vote-average">Vote Average: ${
                  movieDetails.vote_average
                }</p>
                <p class="genres">Genres: ${movieDetails.genres
                  .map((genre) => genre.name)
                  .join(", ")}</p>
              </div>
            </div>
          </div>
        `;

        // variable with the generated HTML
        document.getElementById("movieDetail").innerHTML = movieDetail;
      })

      .catch((error) => {
        console.error("Error fetching movie details:", error);
      });
  }
</script>
